webpackJsonp([6],{244:function(e,t,n){function l(e){n(726)}var a=n(6)(n(689),n(750),l,null,null);e.exports=a.exports},689:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=n(56),a=n.n(l),i=n(32),o=n(18),s=n(54),r=n(55),u=n(699);t.default={data:function(){return{importFinancialExcel:s.a.importFinancialExcel,showFileList:!1,dateEditable:!1,pickerOptions2:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,n=new Date;n.setTime(n.getTime()-6048e5),e.$emit("pick",[n,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,n=new Date;n.setTime(n.getTime()-2592e6),e.$emit("pick",[n,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,n=new Date;n.setTime(n.getTime()-7776e6),e.$emit("pick",[n,t])}}]},list:null,total:null,listLoading:!0,listQuery:{currPage:1,pageSize:10,queryDate:""},temp:{chnlId:"",hisChnlId:"",chnlName:"",state:"",isavailable:"",orderNum:10},typeOptions:[{key:"001",display_name:"类型1"},{key:"002",display_name:"类型2"},{key:"003",display_name:"类型3"}],dialogFormVisible:!1,multipleSelection:[]}},computed:a()({},n.i(i.b)(["userInfo"])),filters:{formatDate:r.formatDate,numberToFixed2:r.numberToFixed2},mounted:function(){this.getList()},methods:{handleChange:function(e,t){},handleProgress:function(e,t,n){this.listLoading=!0},handleSuccess:function(e,t,n){var l=this;l.listLoading=!1,l.$message({showClose:!0,message:"导入成功",type:"success"}),l.getList()},getList:function(){var e=this;e.listLoading=!0;var t=e.listQuery;if(console.log("入参1：",t),t.queryDate){var l=n.i(r.formatDate)(t.queryDate[0]),a=n.i(r.formatDate)(t.queryDate[1]);t.beginDate=l,t.endDate=a}console.log("入参2：",t),o.a.get(s.a.financialList,{params:t},function(t){var n=t.body;0==n.resultCode?(e.list=n.data.data,console.log("列表数据：",e.list),e.listQuery.currPage=n.data.currPage,e.listQuery.pageSize=n.data.pageSize,e.total=n.data.total,e.listLoading=!1):(e.$message({showClose:!0,message:t.body.resultMsg,type:"error"}),e.listLoading=!1)},function(t){e.listLoading=!1},!1)},handleEdit:function(e,t){console.log("编辑的row：",e,"-----",t),this.$router.push({path:"/financialManage/financialUpdate",query:{id:t._id}})},handleDelete:function(e,t){var n=this,l=this;console.log("单个删除选择的row：",e,"-----",t),this.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){l.delFun(t),n.$message({type:"success",message:"删除成功!"})}).catch(function(){})},delFun:function(e){var t=this;o.a.get(s.a.financialDel,{params:{id:e._id}},function(e){t.getList()},function(e){alert("删除报错"),t.listLoading=!1},!1)},handleDelAll:function(){var e=this,t=this;console.log("批量删除选择的row：",t.multipleSelection),this.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定批量删除",cancelButtonText:"取消",type:"warning"}).then(function(){for(var n in t.multipleSelection)console.log("======",t.multipleSelection[n]),t.delFun(t.multipleSelection[n]);e.$message({type:"success",message:"删除成功!"})}).catch(function(){})},handleFilter:function(){this.getList()},handleSizeChange:function(e){this.listQuery.pageSize=e,this.getList()},handleCurrentChange:function(e){console.log("--------",e),this.listQuery.currPage=e,this.getList()},handleCreate:function(){this.$router.push("/financialManage/financialAdd")},handleCreateSubmit:function(){var e=this;console.log("新增入参：",e.temp),e.list.push(e.temp),console.log("新增后",e.list),this.dialogFormVisible=!1},handleSelectionChange:function(e){this.multipleSelection=e},handleDownload:function(){var e=this;n.e(18).then(function(){var t=n(682),l=t.export_json_to_excel,a=u.a[0],i=u.a[1],o=e.list;l(a,e.formatJson(i,o),"导出的列表excel "+n.i(r.formatDate)(new Date))}.bind(null,n)).catch(n.oe)},formatJson:function(e,t){return t.map(function(t){return e.map(function(e){return t[e]})})}}}},699:function(e,t,n){"use strict";var l=[["时间","公司入款","线上支付","人工存入","充值合计","ARPPU","人工扣款","出款金额","充提差","唯一充值用户","唯一提款用户","流水","损益","净利润","存款优惠","活动优惠","日返水"],["financialDate","companyIncome","onlinePay","manualDeposit","rechargeTotal","ARPPU","manualDeductions","expendTotal","rechargeBalance","prepaidUser","drawingsUsr","watercourse","downProfit","upProfits","depositDiscounts","activityDiscounts","returnMoney"]];t.a=l},711:function(e,t,n){t=e.exports=n(236)(!1),t.push([e.i,".upload-demo{display:inline-block;vertical-align:top;margin-left:10px}.el-table .cell,.el-table th>div{box-sizing:border-box;text-overflow:ellipsis;padding-left:8px!important;padding-right:8px!important}",""])},726:function(e,t,n){var l=n(711);"string"==typeof l&&(l=[[e.i,l,""]]),l.locals&&(e.exports=l.locals);n(237)("42ddaa96",l,!0)},750:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"filter-container"},[n("el-date-picker",{staticStyle:{"vertical-align":"top"},attrs:{format:"yyyy-MM-dd",editable:e.dateEditable,type:"daterange",align:"right",placeholder:"选择日期范围","picker-options":e.pickerOptions2},model:{value:e.listQuery.queryDate,callback:function(t){e.listQuery.queryDate=t},expression:"listQuery.queryDate"}}),e._v(" "),n("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary",icon:"search"},on:{click:e.handleFilter}},[e._v("搜索")]),e._v(" "),"10010"==e.userInfo.baseInfo.role||"10011"==e.userInfo.baseInfo.role?n("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"edit"},on:{click:e.handleCreate}},[e._v("添加")]):e._e(),e._v(" "),"10010"==e.userInfo.baseInfo.role?n("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"edit"},on:{click:e.handleDelAll}},[e._v("批量删除")]):e._e(),e._v(" "),"10010"==e.userInfo.baseInfo.role?n("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"document"},on:{click:e.handleDownload}},[e._v("导出")]):e._e(),e._v(" "),"10010"==e.userInfo.baseInfo.role||"10011"==e.userInfo.baseInfo.role?n("el-upload",{staticClass:"upload-demo",attrs:{action:e.importFinancialExcel,"on-change":e.handleChange,"show-file-list":e.showFileList,"on-progress":e.handleProgress,"on-success":e.handleSuccess,accept:""}},[n("el-button",{attrs:{size:"middle",type:"primary"}},[e._v("excel导入")])],1):e._e()],1),e._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.listLoading,expression:"listLoading",modifiers:{body:!0}}],ref:"multipleTable",attrs:{data:e.list,"element-loading-text":"拼命加载中",border:"",fit:"","highlight-current-row":""},on:{"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"45px"}}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:"序号",width:"65px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(t.$index+1)+"\n          ")]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"时间",width:"85px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(e._f("formatDate")(t.row.financialDate))+"\n          ")]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"公司入款","min-width":"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(e._f("numberToFixed2")(t.row.companyIncome))+"\n          ")]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"线上支付","min-width":"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(e._f("numberToFixed2")(t.row.onlinePay))+"\n          ")]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"人工存入","min-width":"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(e._f("numberToFixed2")(t.row.manualDeposit))+"\n          ")]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"充值合计","min-width":"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(e._f("numberToFixed2")(t.row.rechargeTotal))+"\n          ")]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"ARPPU"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(e._f("numberToFixed2")(t.row.ARPPU))+"\n          ")]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"人工扣款","min-width":"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(e._f("numberToFixed2")(t.row.manualDeductions))+"\n          ")]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"出款金额","min-width":"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(e._f("numberToFixed2")(t.row.expendTotal))+"\n          ")]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"充提差","min-width":"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(e._f("numberToFixed2")(t.row.rechargeBalance))+"\n          ")]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"唯一充值用户",width:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(e._f("numberToFixed2")(t.row.prepaidUser))+"\n          ")]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"唯一提款用户",width:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(e._f("numberToFixed2")(t.row.drawingsUsr))+"\n          ")]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"流水","min-width":"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(e._f("numberToFixed2")(t.row.watercourse))+"\n          ")]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"损益","min-width":"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(e._f("numberToFixed2")(t.row.downProfit))+"\n          ")]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"净利润","min-width":"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(e._f("numberToFixed2")(t.row.upProfits))+"\n          ")]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"存款优惠","min-width":"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(e._f("numberToFixed2")(t.row.depositDiscounts))+"\n          ")]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"活动优惠","min-width":"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(e._f("numberToFixed2")(t.row.activityDiscounts))+"\n          ")]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"日返水","min-width":"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(e._f("numberToFixed2")(t.row.returnMoney))+"\n          ")]}}])}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:"操作",width:"120px"},scopedSlots:e._u([{key:"default",fn:function(t){return["10010"==e.userInfo.baseInfo.role||"10011"==e.userInfo.baseInfo.role?n("el-button",{attrs:{size:"small"},on:{click:function(n){e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]):e._e(),e._v(" "),"10010"===e.userInfo.baseInfo.role?n("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(n){e.handleDelete(t.$index,t.row)}}},[e._v("删除")]):e._e()]}}])})],1),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.listLoading,expression:"!listLoading"}],staticClass:"pagination-container"},[n("el-pagination",{attrs:{"current-page":e.listQuery.currPage,"page-sizes":[10,20,30,50],"page-size":e.listQuery.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.listQuery.currPage=t}}})],1),e._v(" "),n("el-dialog",{attrs:{title:"表单新增",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[n("el-form",{staticClass:"small-space",staticStyle:{width:"400px","margin-left":"50px"},attrs:{model:e.temp,"label-position":"left","label-width":"70px"}},[n("el-form-item",{attrs:{label:"字段1"}},[n("el-input",{model:{value:e.temp.chnlId,callback:function(t){e.temp.chnlId=t},expression:"temp.chnlId"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"字段2"}},[n("el-input",{model:{value:e.temp.hisChnlId,callback:function(t){e.temp.hisChnlId=t},expression:"temp.hisChnlId"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"字段3"}},[n("el-input",{model:{value:e.temp.chnlName,callback:function(t){e.temp.chnlName=t},expression:"temp.chnlName"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"字段4"}},[n("el-input",{model:{value:e.temp.state,callback:function(t){e.temp.state=t},expression:"temp.state"}})],1)],1),e._v(" "),n("div",{staticClass:"dialog-footer",slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.handleCreateSubmit}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]}}});