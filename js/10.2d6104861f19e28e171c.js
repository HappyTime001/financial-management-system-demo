webpackJsonp([10],{245:function(e,r,t){function o(e){t(727)}var a=t(6)(t(690),t(751),o,"data-v-bb2f83b0",null);e.exports=a.exports},690:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=t(98),a=t.n(o),l=t(100),n=t.n(l),i=t(23),s=(t.n(i),t(18)),u=t(54),c=t(55);r.default={data:function(){return{dateEditable:!1,pickerOptions0:{readonlyDate:function(e){return e.getTime()<Date.now()-864e5}},pickerOptions1:{shortcuts:[{text:"今天",onClick:function(e){e.$emit("pick",new Date)}},{text:"昨天",onClick:function(e){var r=new Date;r.setTime(r.getTime()-864e5),e.$emit("pick",r)}},{text:"一周前",onClick:function(e){var r=new Date;r.setTime(r.getTime()-6048e5),e.$emit("pick",r)}}]},ruleForm:{financialDate:new Date,companyIncome:"",onlinePay:"",manualDeposit:"",manualDeductions:"",expendTotal:"",prepaidUser:"",drawingsUsr:"",watercourse:"",downProfit:null,depositDiscounts:null,activityDiscounts:null,returnMoney:null},rules:{financialDate:[{required:!0,message:"请选择日期",trigger:"blur"}],companyIncome:[{required:!0,message:"请输入公司入款",trigger:"blur"}]}}},computed:{rechargeTotal:function(){var e=this;return Number(e.ruleForm.companyIncome)+Number(e.ruleForm.onlinePay)+Number(e.ruleForm.manualDeposit)},ARPPU:function(){var e=this,r=e.ruleForm.prepaidUser?Number(e.ruleForm.prepaidUser):1;return Number(e.rechargeTotal)/r},rechargeBalance:function(){var e=this;return Number(e.rechargeTotal)-Number(e.ruleForm.expendTotal)},upProfits:function(){var e=this,r=Number(e.ruleForm.downProfit)-Number(e.ruleForm.depositDiscounts)-Number(e.ruleForm.activityDiscounts)-Number(e.ruleForm.returnMoney);return console.log(r,void 0===r?"undefined":n()(r)),r||0}},mounted:function(){this.getFormData()},methods:{dateChange:function(){var e=this;e.ruleForm.financialDate;e.ruleForm.financialDate=t.i(c.formatDate)(e.ruleForm.financialDate.toString())},getFormData:function(){var e=this,r=this.$route.query;console.log("获取到url参数：",r),s.a.get(u.a.financialItemQuery,{params:{id:r.id}},function(r){if(console.log("-------根据id获取表单信息：",a()(r)),0==r.body.resultCode){var r=r.body.data;console.log("=====",r),e.ruleForm=r}else t.i(i.Message)({showClose:!0,message:r.body.resultMsg,type:"error"})},function(e){},!0)},submitForm:function(e){var r=this,o=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;console.log("提交入参：",r.ruleForm),s.a.post(u.a.financialUpdate,r.ruleForm,null,function(e){t.i(i.Message)({showClose:!0,message:"提交成功，正在跳转页面……",type:"success"}),setTimeout(function(){o.$router.push("/financialManage/financialList")},2e3)},function(e){alert("插入数据失败，接口返回的数据为：",e)})})},resetForm:function(e){}}}},712:function(e,r,t){r=e.exports=t(236)(!1),r.push([e.i,".component-item[data-v-bb2f83b0]{margin-top:100px}.code-part[data-v-bb2f83b0]{margin-top:20px}input[readonly][data-v-bb2f83b0]{background-color:#eef1f6;border-color:#d1dbe5;color:#bbb;cursor:not-allowed}",""])},727:function(e,r,t){var o=t(712);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);t(237)("641d5c1d",o,!0)},751:function(e,r){e.exports={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{},[t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"150px"}},[t("el-form-item",{attrs:{label:"时间",prop:"financialDate"}},[t("el-col",{attrs:{span:11}},[t("el-date-picker",{attrs:{editable:e.dateEditable,align:"right",type:"date",placeholder:"选择日期","picker-options":e.pickerOptions1,change:e.dateChange(),"range-separator":"~"},model:{value:e.ruleForm.financialDate,callback:function(r){e.ruleForm.financialDate=r},expression:"ruleForm.financialDate"}})],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"公司入款",prop:"companyIncome"}},[t("el-col",{attrs:{span:11}},[t("el-input",{attrs:{type:"number"},model:{value:e.ruleForm.companyIncome,callback:function(r){e.ruleForm.companyIncome=r},expression:"ruleForm.companyIncome"}})],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"线上支付",prop:"onlinePay"}},[t("el-col",{attrs:{span:11}},[t("el-input",{attrs:{type:"number"},model:{value:e.ruleForm.onlinePay,callback:function(r){e.ruleForm.onlinePay=r},expression:"ruleForm.onlinePay"}})],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"人工存入",prop:"manualDeposit"}},[t("el-col",{attrs:{span:11}},[t("el-input",{attrs:{type:"number"},model:{value:e.ruleForm.manualDeposit,callback:function(r){e.ruleForm.manualDeposit=r},expression:"ruleForm.manualDeposit"}})],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"充值合计"}},[t("el-col",{attrs:{span:11}},[t("el-input",{attrs:{type:"number",readonly:""},model:{value:e.rechargeTotal,callback:function(r){e.rechargeTotal=r},expression:"rechargeTotal"}})],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"人工扣款",prop:"manualDeductions"}},[t("el-col",{attrs:{span:11}},[t("el-input",{attrs:{type:"number"},model:{value:e.ruleForm.manualDeductions,callback:function(r){e.ruleForm.manualDeductions=r},expression:"ruleForm.manualDeductions"}})],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"出款金额",prop:"expendTotal"}},[t("el-col",{attrs:{span:11}},[t("el-input",{attrs:{type:"number"},model:{value:e.ruleForm.expendTotal,callback:function(r){e.ruleForm.expendTotal=r},expression:"ruleForm.expendTotal"}})],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"充提差"}},[t("el-col",{attrs:{span:11}},[t("el-input",{attrs:{type:"number",readonly:""},model:{value:e.rechargeBalance,callback:function(r){e.rechargeBalance=r},expression:"rechargeBalance"}})],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"唯一充值用户",prop:"prepaidUser"}},[t("el-col",{attrs:{span:11}},[t("el-input",{attrs:{type:"number"},model:{value:e.ruleForm.prepaidUser,callback:function(r){e.ruleForm.prepaidUser=r},expression:"ruleForm.prepaidUser"}})],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"ARPPU"}},[t("el-col",{attrs:{span:11}},[t("el-input",{attrs:{type:"number",readonly:""},model:{value:e.ARPPU,callback:function(r){e.ARPPU=r},expression:"ARPPU"}})],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"唯一提款用户",prop:"drawingsUsr"}},[t("el-col",{attrs:{span:11}},[t("el-input",{attrs:{type:"number"},model:{value:e.ruleForm.drawingsUsr,callback:function(r){e.ruleForm.drawingsUsr=r},expression:"ruleForm.drawingsUsr"}})],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"流水",prop:"watercourse"}},[t("el-col",{attrs:{span:11}},[t("el-input",{attrs:{type:"number"},model:{value:e.ruleForm.watercourse,callback:function(r){e.ruleForm.watercourse=r},expression:"ruleForm.watercourse"}})],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"损益",prop:"downProfit"}},[t("el-col",{attrs:{span:11}},[t("el-input",{attrs:{type:"number"},model:{value:e.ruleForm.downProfit,callback:function(r){e.ruleForm.downProfit=r},expression:"ruleForm.downProfit"}})],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"存款优惠",prop:"depositDiscounts"}},[t("el-col",{attrs:{span:11}},[t("el-input",{attrs:{type:"number"},model:{value:e.ruleForm.depositDiscounts,callback:function(r){e.ruleForm.depositDiscounts=r},expression:"ruleForm.depositDiscounts"}})],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"活动优惠",prop:"activityDiscounts"}},[t("el-col",{attrs:{span:11}},[t("el-input",{attrs:{type:"number"},model:{value:e.ruleForm.activityDiscounts,callback:function(r){e.ruleForm.activityDiscounts=r},expression:"ruleForm.activityDiscounts"}})],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"日返水",prop:"returnMoney"}},[t("el-col",{attrs:{span:11}},[t("el-input",{attrs:{type:"number"},model:{value:e.ruleForm.returnMoney,callback:function(r){e.ruleForm.returnMoney=r},expression:"ruleForm.returnMoney"}})],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"净利润"}},[t("el-col",{attrs:{span:11}},[t("el-input",{attrs:{type:"number",readonly:""},model:{value:e.upProfits,callback:function(r){e.upProfits=r},expression:"upProfits"}})],1)],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(r){e.submitForm("ruleForm")}}},[e._v("立即创建")])],1)],1)],1)},staticRenderFns:[]}}});